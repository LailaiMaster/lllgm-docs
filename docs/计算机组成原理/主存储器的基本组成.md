主存储器的基本组成

包括存储体M，各种逻辑部件及控制电路等。

主存储器的示意图如下：

其实主存并不是上面那么简单，还有很多部件一起协作，如下图：

![图片](https://uploader.shimo.im/f/D7XKNHIsKCJ6CrVR.png!thumbnail)

我们只讨论第一个图，接下来分别介绍主存储器中的各个部件。![图片](https://uploader.shimo.im/f/WMyZW3vSX2BlH2mc.png!thumbnail)

 

存储体

我们看主存储体中的存储体：

我们把存储体放大来看，先给一个示意图，方便理解：

![图片](https://uploader.shimo.im/f/QA1ksJGveCGvd3Px.png!thumbnail)

自己画的图，可能不是很准确。

存储体的组成：

存储体由许多存储单元组成，每个存储单元又包含若干个存储元件，每个存储元件可以寄存一位二进制代码0/1。

对于其组成我们可以这样来记忆：

存储体呢，相当于一栋大楼，大楼内有很多房间（存储单元），每个房间内又有很多床位（存储元件），那么0代表床上无人，1代表床上有人。

存储单元：

以8位二进制作为一个存储单元，也就是一个字节。

一个存储单元可以存储一串二进制代码，称这串二进制代码为一个存储字，代码位数位存储字长。

存储单元有编号，这些编号称为存储单元的地址号。存储单元按地址寻访。这些地址都是二进制的形式。

 

存储体的另一种示意图：

如果我们忽略存储原件不计，那么存储体的样子是这样的：

![图片](https://uploader.shimo.im/f/cyXHHn6mC9BITH36.png!thumbnail)

这个十分简单的图却在分析主存中存储单元地址的分配的时候，有重要作用。

我们既然都忽略了存储原件，那么图中的小方格就是存储单元了。外面最大的矩形框自然是存储体。

那存储单元中的数字是什么东西？？

这些数字形象化的代替了存储单元的地址。当然，实际中都应该是二进制数。

 

MAR

存储器地址寄存器。保存了存储单元的地址（编号）。其位数反映存储单元的个数。

为什么这么说呢？

比如有16个存储单元，而存储单元的地址是用二进制表示的，那么用4位二进制数就可以表示。MAR的位数就是4位。

那么相反，如果我们知道MAR有4位，那么存储单元就有24个，16个存储单元。

所以MAR反映存储单元的个数。

 

MDR

存储器数据寄存器，其位数反映存储字长。

存放的是：存储器中从存储某单元读出、或要写入某存储单元的数据（代码）。

如果MDR=8，每个存储单元进行访问时，数据是8位，存储字长8位。

 

主存储器和CPU的联系

要想完成一个完整的取或存操作，CPU（控制器）还得给主存加以各种控制信号（读命令、写命令、地址译码驱动信号等）。

现代计算机中：

1.主存由半导体集成电路构成

2.驱动器、译码器和读写电路均在存储芯片中

3.MAR和MDR在CPU芯片中

4.存储芯片和CPU芯片可以通过总线（系统总线）连接

5.地址总线用来指出存储单元地址号。

![图片](https://uploader.shimo.im/f/3vFax6mHoZhtvEIs.png!thumbnail)



下图中，每一个小方块就代表一个存储单元，大方块是主存中的存储体。

以8位二进制作为一个存储单元，也就是一个字节。

通常，字由字节组成。（说白了，字和字节都是一位一位构成的，只不过字包含了字节）

下图一个存储单元为一个字节，这4个字节又构成了1个字。每个字有字地址，在图中形象化的表示了。

那么现在一个问题是，下图的字长为多少？

经过分析，4个字节组成了1个字，一个字节8位，所以总共是32位，字长也就是32位。

示例图如下：

![图片](https://uploader.shimo.im/f/2a6SqY0O8nQfa7nT.png!thumbnail)

例子：

了解了上面的概念原理，我们来做几个例子：

1.设地址线为24根，按字节寻址，求访问范围？

2.如果存储容量不变，若字长为16位，求按字寻址范围？

3.如果存储容量还不变，若字长为32，求按字寻址范围？

我们先分析第一个问题。

如果地址线有24根，并且每根地址线有0、1两位，我们可以从000…000(24位)一直到111…111(24位)。所以一共就有224位，也就是有224个地址。转化完成就是16MB。这些地址表示存储单元的位置，所以存储单元的个数也为16MB。

如何转换为16MB：

224Byte=16777216Byte

16777216Byte/1024=16384KByte

16384KByte/1024=16MByte

第一个问题说了，我们要按字节寻址，有多少存储字。

一个存储单元可以存放一个8位二进制数，这个二进制数就是一个存储字。说白了就是问有多少个存储单元。经过分析就有16MB个。

 

关于存储容量：

一个存储单元中有8位，那么16MB个存储单元（地址）中，可以存放16MB×8位。这也就是存储容量。

假如地址寄存器MAR是8位，每个存储单元可以写入/读出10位的二进制数。存储容量 就应该为28×10位。

 

 

字地址：用该字高位字节的地址表示。也有用低位字节的地址来表示字地址。

那么来看第二个问题：

存储容量不变，也就是有16MB*8位，若字长为16位，我们按字寻址，有多少存储字。

下图的字长为16位：一个字节8位，两个字节自然就是16位。

![图片](https://uploader.shimo.im/f/I8qrSo6YXD84n9C5.png!thumbnail)

如果是按字寻址，我们知道字长16位，那么用总容量除以字长就是存储字的个数：

（16M*8）/16=8M

 

第二个懂了的话，第三就好懂啦，只不过是把16换为了32。

字长为32的存储：

![图片](https://uploader.shimo.im/f/vxTkLHAMPsJbXEZ6.png!thumbnail)

存储字的个数：

（16M*8）/32=4M

